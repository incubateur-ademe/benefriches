# E2E Tests Environment Variables
# Used with: docker compose --env-file apps/e2e-tests/.env.e2e -f docker-compose.e2e.yml up

# Node environment
NODE_ENV=test

# Database
DATABASE_PORT=5433
DATABASE_USER=postgres
DATABASE_PASSWORD=e2e-tests-password
DATABASE_DB_NAME=benefriches_e2e_tests_db

# API
API_PORT=4001
# API_HOST_URL is used by the webapp nginx to proxy /api requests
# It must use the Docker internal network hostname "api", not "localhost"
API_HOST_URL=http://api:4001

# Web App
WEBAPP_PORT=3001
WEBAPP_URL=http://localhost:3001

# Auth
SESSION_SECRET=e2e-tests-session-secret
AUTH_JWT_SECRET=e2e-tests-jwt-secret
AUTH_JWT_EXPIRES_IN=7d
AUTH_CREATE_USER_ACCOUNT_URL=http://localhost:3001/premiers-pas/identite
AUTH_LOGOUT_CALLBACK_URL=http://localhost:4001/api/auth/logout-callback
AUTH_LINK_TOKEN_EXPIRATION_MINUTES=15

# Pro Connect (mock/test values)
PRO_CONNECT_PROVIDER_DOMAIN=fca.integ01.dev-agentconnect.fr
PRO_CONNECT_CLIENT_ID=test-client-id
PRO_CONNECT_CLIENT_SECRET=test-client-secret
PRO_CONNECT_LOGIN_CALLBACK_URL=http://localhost:4001/api/auth/login-callback/pro-connect

# SMTP (mailcatcher)
SMTP_HOST=mailcatcher
SMTP_PORT=1026
SMTP_USER=e2e-tests
SMTP_PASSWORD=e2e-tests-password
SMTP_FROM_ADDRESS=e2e-tests@benefriches.com

# Connect CRM (mock/test values)
CONNECT_CRM_URL=https://connectcrm.example.com
CONNECT_CRM_CLIENT_ID=test-crm-client-id
CONNECT_CRM_CLIENT_SECRET=test-crm-client-secret

# Mutafriches
MUTAFRICHES_API_URL=https://mutafriches.beta.gouv.fr

# Web App specific
WEBAPP_MATOMO_URL=
WEBAPP_MATOMO_SITE_ID=
WEBAPP_ALLOWED_DEVELOPMENT_PLAN_CATEGORIES=RENEWABLE_ENERGY,URBAN_PROJECT
WEBAPP_MUTAFRICHES_FRAME_SRC=https://mutafriches.incubateur.ademe.dev/
WEBAPP_MUTAFRICHES_INTEGRATOR=demo
